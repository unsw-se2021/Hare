{"ast":null,"code":"import axios from 'axios';\nvar backendurl = 'http://54.252.168.81:8080';\n\nvar getProductPage = function getProductPage(id) {\n  console.log(\"GETTING PRODUCT PAGE FOR\", id);\n  var pid = String(id);\n  var url = \"\".concat(backendurl, \"/product/\").concat(pid);\n  return axios.get(url);\n};\n\nvar getProductID = function getProductID(b64_data) {\n  return axios.post(\"\".concat(backendurl, \"/upload\"), {\n    image: String(b64_data)\n  });\n};\n\nvar cacheProduct = function cacheProduct(id) {\n  return new Promise(function (res, rej) {\n    if (id === undefined || id === null) {\n      console.log(id);\n      rej(\"Bad id\");\n    } else {\n      var pagePromise = getProductPage(id);\n      pagePromise.then(function (res) {\n        console.log(\"PRODUCT GOT, RESULTS:\", res.data);\n        localStorage.setItem(id, JSON.stringify(res.data));\n        res();\n      });\n    }\n  });\n};\n\nexport default {\n  getProductID: getProductID,\n  cacheProduct: cacheProduct,\n  getProductPage: getProductPage,\n  backendurl: backendurl\n};","map":{"version":3,"sources":["/Users/michaelwlloyd/Desktop/NeoHare/Hare_Frontend/src/components/actions/ScanService.js"],"names":["axios","backendurl","getProductPage","id","console","log","pid","String","url","get","getProductID","b64_data","post","image","cacheProduct","Promise","res","rej","undefined","pagePromise","then","data","localStorage","setItem","JSON","stringify"],"mappings":"AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,IAAMC,UAAU,GAAG,2BAAnB;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,EAAE,EAAI;AACzBC,EAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCF,EAAxC;AACA,MAAIG,GAAG,GAAGC,MAAM,CAACJ,EAAD,CAAhB;AACA,MAAIK,GAAG,aAAMP,UAAN,sBAA4BK,GAA5B,CAAP;AACA,SACIN,KAAK,CAACS,GAAN,CAAUD,GAAV,CADJ;AAGH,CAPD;;AASA,IAAME,YAAY,GAAG,SAAfA,YAAe,CAAAC,QAAQ,EAAI;AAC7B,SACIX,KAAK,CAACY,IAAN,WAAcX,UAAd,cAAmC;AAAEY,IAAAA,KAAK,EAAEN,MAAM,CAACI,QAAD;AAAf,GAAnC,CADJ;AAGH,CAJD;;AAMA,IAAMG,YAAY,GAAG,SAAfA,YAAe,CAACX,EAAD,EAAQ;AACzB,SAAO,IAAIY,OAAJ,CAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC9B,QAAGd,EAAE,KAAKe,SAAP,IAAoBf,EAAE,KAAK,IAA9B,EAAoC;AAChCC,MAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;AACAc,MAAAA,GAAG,CAAC,QAAD,CAAH;AACH,KAHD,MAGO;AACH,UAAIE,WAAW,GAAGjB,cAAc,CAACC,EAAD,CAAhC;AACAgB,MAAAA,WAAW,CAACC,IAAZ,CAAkB,UAAAJ,GAAG,EAAI;AACrBZ,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCW,GAAG,CAACK,IAAzC;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqBpB,EAArB,EAAyBqB,IAAI,CAACC,SAAL,CAAeT,GAAG,CAACK,IAAnB,CAAzB;AACAL,QAAAA,GAAG;AACN,OAJD;AAKH;AACJ,GAZM,CAAP;AAaH,CAdD;;AAgBA,eAAe;AACXN,EAAAA,YAAY,EAAZA,YADW;AAEXI,EAAAA,YAAY,EAAZA,YAFW;AAGXZ,EAAAA,cAAc,EAAdA,cAHW;AAIXD,EAAAA,UAAU,EAAVA;AAJW,CAAf","sourcesContent":["\nimport axios from 'axios'; \nconst backendurl = 'http://54.252.168.81:8080';\n\nconst getProductPage = id => { \n    console.log(\"GETTING PRODUCT PAGE FOR\", id);\n    let pid = String(id);\n    let url = `${backendurl}/product/${pid}`;\n    return( \n        axios.get(url)\n    )\n}\n\nconst getProductID = b64_data => {\n    return ( \n        axios.post(`${backendurl}/upload`, { image: String(b64_data) })\n    )\n}\n\nconst cacheProduct = (id) => { \n    return new Promise( (res, rej) => {\n        if(id === undefined || id === null) { \n            console.log(id);\n            rej(\"Bad id\"); \n        } else { \n            let pagePromise = getProductPage(id); \n            pagePromise.then( res => { \n                console.log(\"PRODUCT GOT, RESULTS:\", res.data);\n                localStorage.setItem(id, JSON.stringify(res.data));\n                res();\n            })\n        }\n    })\n}\n\nexport default { \n    getProductID, \n    cacheProduct,\n    getProductPage, \n    backendurl\n}"]},"metadata":{},"sourceType":"module"}