{"ast":null,"code":"import _classCallCheck from \"/Users/michaelwlloyd/Desktop/NeoHare/Hare_Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/michaelwlloyd/Desktop/NeoHare/Hare_Frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/michaelwlloyd/Desktop/NeoHare/Hare_Frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/michaelwlloyd/Desktop/NeoHare/Hare_Frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/michaelwlloyd/Desktop/NeoHare/Hare_Frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/michaelwlloyd/Desktop/NeoHare/Hare_Frontend/src/components/Product.js\";\nimport React, { Component } from 'react';\nimport { Grommet, grommet, Meter, TextInput, DropButton, Button, Box, Heading, Menu, Paragraph, Carousel, Accordion, AccordionPanel, Text, Image, Distribution, Layer } from 'grommet';\nimport * as Icons from 'grommet-icons';\nimport { withRouter, Redirect, Route, Link, Router, BrowserRouter } from 'react-router-dom';\nimport Style from './styles/Style';\nimport Colors from './styles/Color';\nimport AuthService from './actions/AuthService';\nimport UserService from './actions/UserService';\n\nvar ProductPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProductPage, _Component);\n\n  function ProductPage(props) {\n    var _this;\n\n    _classCallCheck(this, ProductPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProductPage).call(this, props));\n\n    _this.loadingScreen = function () {\n      if (_this.state.loaderr !== undefined) {\n        return React.createElement(Box, {\n          align: \"center\",\n          gap: \"small\",\n          fill: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, React.createElement(Box, {\n          height: \"20%\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }), React.createElement(Box, {\n          background: \"status-unknown\",\n          align: \"center\",\n          pad: \"medium\",\n          gap: \"medium\",\n          border: {\n            color: \"status-error\",\n            size: \"medium\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, React.createElement(Icons.Alert, {\n          size: \"xlarge\",\n          color: \"status-error\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }), React.createElement(Text, {\n          color: \"status-error\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, \"Failure loading: \", _this.state.product_id, \" \", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }), \" \", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }), React.createElement(Link, {\n          to: \"/upload\",\n          style: {\n            textDecoration: \"none\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, React.createElement(Box, {\n          direction: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, React.createElement(Icons.LinkPrevious, {\n          color: \"status-error\",\n          size: \"medium\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }), React.createElement(Box, {\n          width: \"10px\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }), React.createElement(Text, {\n          color: \"status-error\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, \"Go back\"))))));\n      } else {\n        return React.createElement(Box, {\n          align: \"center\",\n          gap: \"large\",\n          fill: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(Box, {\n          height: \"25%\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }), React.createElement(PreviewLoader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }), React.createElement(Text, {\n          color: Colors.grey1,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, \"Loading page: \", _this.state.product_id));\n      }\n    };\n\n    _this.state = {}; // If page has acquired everything \n\n    _this.state.loading = true; // If loading resulted in an error \n\n    _this.state.loaderr = \"1\"; // The ID of this product page \n\n    _this.state.product_id = _this.props.match.params.productId; // An object of ingredient ID's by category \n\n    _this.state.ingredients = undefined; // A collection of useful statistics to display\n\n    _this.state.statistics = undefined; // A check to see if the user is authenticated \n\n    _this.state.loggedin = localStorage.getItem('auth'); // If the user is logged in, get their userdata \n\n    _this.state.userdata = JSON.parse(localStorage.getItem('userdata')); // Check if this productID has been saved before (by the user)\n\n    _this.state.saved = undefined;\n    return _this;\n  }\n\n  _createClass(ProductPage, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Box, {\n        fill: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, this.state.loading && this.loadingScreen());\n    }\n  }]);\n\n  return ProductPage;\n}(Component); // ---------------------------------// ---------------------------------// ---------------------------------\n// ---------------------------------// ---------------------------------// ---------------------------------\n\n\nvar PreviewLoader =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PreviewLoader, _React$Component);\n\n  function PreviewLoader() {\n    var _getPrototypeOf2;\n\n    var _this2;\n\n    _classCallCheck(this, PreviewLoader);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this2 = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PreviewLoader)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this2.state = {\n      value: 10\n    };\n    return _this2;\n  }\n\n  _createClass(PreviewLoader, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      this.timer = setInterval(function () {\n        var value = _this3.state.value;\n\n        _this3.setState({\n          value: value < 100 ? value + 8 : 0\n        });\n      }, 50);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.timer);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var value = this.state.value;\n      return React.createElement(Meter, {\n        margin: \"0\",\n        height: \"100px\",\n        width: \"100px\",\n        type: \"circle\",\n        size: \"small\",\n        values: [{\n          value: value,\n          color: value > 10 ? \"\".concat(Colors.primary) : \"\".concat(Colors.primary)\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return PreviewLoader;\n}(React.Component);\n\nexport default withRouter(ProductPage);","map":{"version":3,"sources":["/Users/michaelwlloyd/Desktop/NeoHare/Hare_Frontend/src/components/Product.js"],"names":["React","Component","Grommet","grommet","Meter","TextInput","DropButton","Button","Box","Heading","Menu","Paragraph","Carousel","Accordion","AccordionPanel","Text","Image","Distribution","Layer","Icons","withRouter","Redirect","Route","Link","Router","BrowserRouter","Style","Colors","AuthService","UserService","ProductPage","props","loadingScreen","state","loaderr","undefined","color","size","product_id","textDecoration","grey1","loading","match","params","productId","ingredients","statistics","loggedin","localStorage","getItem","userdata","JSON","parse","saved","PreviewLoader","value","timer","setInterval","setState","clearInterval","primary"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react'; \nimport { Grommet, grommet, Meter, TextInput, DropButton, Button, Box, Heading, Menu, Paragraph, Carousel, Accordion, AccordionPanel, Text, Image, Distribution, Layer } from 'grommet';\nimport * as Icons from 'grommet-icons';\nimport { withRouter, Redirect, Route, Link, Router, BrowserRouter } from 'react-router-dom';\n\nimport Style from './styles/Style';\nimport Colors from './styles/Color'; \nimport AuthService from './actions/AuthService'; \nimport UserService from './actions/UserService';\n\n\nclass ProductPage extends Component { \n\n\tconstructor(props) { \n\t\tsuper(props); \n\t\tthis.state = {}; \n\t\t\n\t\t// If page has acquired everything \n\t\tthis.state.loading = true; \n\t\t// If loading resulted in an error \n\t\tthis.state.loaderr = \"1\"; \n\t\t// The ID of this product page \n\t\tthis.state.product_id = this.props.match.params.productId; \n\t\t// An object of ingredient ID's by category \n\t\tthis.state.ingredients = undefined; \n\t\t// A collection of useful statistics to display\n\t\tthis.state.statistics = undefined; \n\t\t// A check to see if the user is authenticated \n\t\tthis.state.loggedin = localStorage.getItem('auth'); \n\t\t// If the user is logged in, get their userdata \n\t\tthis.state.userdata = JSON.parse(localStorage.getItem('userdata'));\n\t\t// Check if this productID has been saved before (by the user)\n\t\tthis.state.saved = undefined; \n\t}\n\n\tloadingScreen = () => { \n\t\tif(this.state.loaderr !== undefined) { \n\t\t\treturn(\n\t\t\t\t<Box align=\"center\" gap=\"small\" fill > \n\t\t\t\t\t<Box height=\"20%\" /> \n\t\t\t\t\t<Box background=\"status-unknown\" align=\"center\" pad=\"medium\" gap=\"medium\" border={{ color: \"status-error\", size: \"medium\"}}> \n\t\t\t\t\t\t<Icons.Alert size=\"xlarge\" color=\"status-error\" />\n\t\t\t\t\t\t<Text color=\"status-error\">Failure loading: {this.state.product_id} <br /> <br />\n\t\t\t\t\t\t\t<Link to='/upload' style={{ textDecoration: \"none\"}}> \n\t\t\t\t\t\t\t\t<Box direction=\"row\">\n\t\t\t\t\t\t\t\t<Icons.LinkPrevious color=\"status-error\" size=\"medium\" />\n\t\t\t\t\t\t\t\t<Box width=\"10px\" />\n\t\t\t\t\t\t\t\t<Text color=\"status-error\">Go back</Text>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Text> \n\t\t\t\t\t</Box>\n\t\t\t\t</Box> \n\t\t\t)\n\t\t} else { \n\t\t\treturn( \n\t\t\t\t<Box align=\"center\" gap=\"large\" fill>\n\t\t\t\t\t<Box height=\"25%\" />\n\t\t\t\t\t<PreviewLoader />\n\t\t\t\t\t<Text color={Colors.grey1}>Loading page: {this.state.product_id}</Text> \n\t\t\t\t</Box>\n\t\t\t)\n\t\t}\n\t}\n\n\trender() { \n\t\treturn ( \n\t\t\t<Box fill> \n\t\t\t\t{this.state.loading && this.loadingScreen()}\n\t\t\t</Box> \n\t\t)\n\t}\n\n}\n\n\n// ---------------------------------// ---------------------------------// ---------------------------------\n// ---------------------------------// ---------------------------------// ---------------------------------\n\nclass PreviewLoader extends React.Component {\n\tstate = { value: 10 };\n  \n\tcomponentDidMount() {\n\t  this.timer = setInterval(() => {\n\t\tconst { value } = this.state;\n\t\tthis.setState({ value: value < 100 ? value + 8 : 0 });\n\t  }, 50);\n\t}\n  \n\tcomponentWillUnmount() {\n\t  clearInterval(this.timer);\n\t}\n  \n\trender() {\n\t  const { value } = this.state;\n\t  return (\n\t\t\t<Meter\n\t\t\tmargin=\"0\"\n\t\t\theight=\"100px\"\n\t\t\twidth=\"100px\"\n\t\t\ttype=\"circle\"\n\t\t\tsize=\"small\"\n\t\t\tvalues={[{ value, color: value > 10 ? `${Colors.primary}` : `${Colors.primary}` }]}/>\n\t  );\n\t}\n  }\n\nexport default withRouter(ProductPage); \n"]},"metadata":{},"sourceType":"module"}