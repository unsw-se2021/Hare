{"ast":null,"code":"import axios from \"axios\";\nvar backendurl = 'https://0d569b81-281f-42aa-b7c8-982eef0cfaa0.mock.pstmn.io';\n\nvar startAuthService = function startAuthService() {}; // Log user in or out using set usr/pass\n\n\nvar authenticateUser = function authenticateUser(usr, pass) {\n  var p_user = String(usr);\n  var p_pass = String(pass);\n  var request = {\n    username: p_user,\n    password: p_pass\n  };\n  return axios.post(\"\".concat(backendurl, \"/auth\"), request);\n};\n\nvar setAuthKey = function setAuthKey(key) {\n  if (key != null && key !== undefined) {\n    localStorage.setItem('auth', key);\n  } else {\n    console.log(\"INVALID KEY STORE ATTEMPT\");\n  }\n}; // Find out if the user is logged in or out \n\n\nvar hasAuthKey = function hasAuthKey() {\n  var key = String(localStorage.getItem('auth'));\n  var authval = false;\n\n  if (eval(key) !== undefined && eval(key) !== null) {\n    authval = true;\n  }\n\n  if (authval == true) {\n    console.log(\"[AuthService.js isAuthenticated()]: authval is truthy\");\n    console.log(\"[ARGS]: \", authval, key);\n    return authval;\n  } else {\n    console.log(\"[AuthService.js isAuthenticated()]: Invalid authval\");\n    console.log(\"[ARGS]: \", authval, \"from\", localStorage.getItem('auth'));\n    return authval;\n  }\n};\n\nvar LogOut = function LogOut() {\n  localStorage.clear();\n};\n\nexport default {\n  authenticateUser: authenticateUser,\n  setAuthKey: setAuthKey,\n  hasAuthKey: hasAuthKey,\n  LogOut: LogOut\n};","map":{"version":3,"sources":["/Users/michaelwlloyd/Desktop/NeoHare/Hare_Frontend/src/components/actions/AuthService.js"],"names":["axios","backendurl","startAuthService","authenticateUser","usr","pass","p_user","String","p_pass","request","username","password","post","setAuthKey","key","undefined","localStorage","setItem","console","log","hasAuthKey","getItem","authval","eval","LogOut","clear"],"mappings":"AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,UAAU,GAAG,4DAAnB;;AAEA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM,CAE9B,CAFD,C,CAIA;;;AACA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,GAAD,EAAMC,IAAN,EAAe;AACvC,MAAIC,MAAM,GAAGC,MAAM,CAACH,GAAD,CAAnB;AACA,MAAII,MAAM,GAAGD,MAAM,CAACF,IAAD,CAAnB;AACA,MAAII,OAAO,GAAG;AACbC,IAAAA,QAAQ,EAAEJ,MADG;AAEbK,IAAAA,QAAQ,EAAEH;AAFG,GAAd;AAKA,SACCR,KAAK,CAACY,IAAN,WAAcX,UAAd,YAAiCQ,OAAjC,CADD;AAGA,CAXD;;AAaA,IAAMI,UAAU,GAAG,SAAbA,UAAa,CAACC,GAAD,EAAS;AAC3B,MAAGA,GAAG,IAAI,IAAP,IAAeA,GAAG,KAAKC,SAA1B,EAAqC;AACpCC,IAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BH,GAA7B;AACA,GAFD,MAEO;AACNI,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACA;AACD,CAND,C,CAQA;;;AACA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACxB,MAAIN,GAAG,GAAGP,MAAM,CAACS,YAAY,CAACK,OAAb,CAAqB,MAArB,CAAD,CAAhB;AACA,MAAIC,OAAO,GAAG,KAAd;;AACA,MAAIC,IAAI,CAACT,GAAD,CAAJ,KAAcC,SAAd,IAA2BQ,IAAI,CAACT,GAAD,CAAJ,KAAc,IAA7C,EAAmD;AAClDQ,IAAAA,OAAO,GAAG,IAAV;AACA;;AACD,MAAGA,OAAO,IAAI,IAAd,EAAoB;AACnBJ,IAAAA,OAAO,CAACC,GAAR,CAAY,uDAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBG,OAAxB,EAAiCR,GAAjC;AACA,WAAOQ,OAAP;AACA,GAJD,MAIO;AACNJ,IAAAA,OAAO,CAACC,GAAR,CAAY,qDAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBG,OAAxB,EAAiC,MAAjC,EAAyCN,YAAY,CAACK,OAAb,CAAqB,MAArB,CAAzC;AACA,WAAOC,OAAP;AACA;AACD,CAfD;;AAiBA,IAAME,MAAM,GAAG,SAATA,MAAS,GAAM;AACpBR,EAAAA,YAAY,CAACS,KAAb;AACA,CAFD;;AAIA,eAAe;AACdtB,EAAAA,gBAAgB,EAAhBA,gBADc;AAEdU,EAAAA,UAAU,EAAVA,UAFc;AAGdO,EAAAA,UAAU,EAAVA,UAHc;AAIdI,EAAAA,MAAM,EAANA;AAJc,CAAf","sourcesContent":["\nimport axios from \"axios\";\n\nconst backendurl = 'https://0d569b81-281f-42aa-b7c8-982eef0cfaa0.mock.pstmn.io';\n\nconst startAuthService = () => { \n\t\n}\n\n// Log user in or out using set usr/pass\nconst authenticateUser = (usr, pass) => {\n\tlet p_user = String(usr);\n\tlet p_pass = String(pass);\n\tlet request = { \n\t\tusername: p_user,\n\t\tpassword: p_pass,\n\t};\n\n\treturn ( \n\t\taxios.post(`${backendurl}/auth`, request)\n\t)\n} \n\nconst setAuthKey = (key) => { \n\tif(key != null && key !== undefined) { \n\t\tlocalStorage.setItem('auth', key); \n\t} else { \n\t\tconsole.log(\"INVALID KEY STORE ATTEMPT\");\n\t}\n}\n\n// Find out if the user is logged in or out \nconst hasAuthKey = () => { \n\tlet key = String(localStorage.getItem('auth'));\n\tlet authval = false; \n\tif (eval(key) !== undefined && eval(key) !== null) { \n\t\tauthval = true; \n\t}\n\tif(authval == true) { \n\t\tconsole.log(\"[AuthService.js isAuthenticated()]: authval is truthy\"); \n\t\tconsole.log(\"[ARGS]: \", authval, key); \n\t\treturn authval; \t\n\t} else { \n\t\tconsole.log(\"[AuthService.js isAuthenticated()]: Invalid authval\"); \n\t\tconsole.log(\"[ARGS]: \", authval, \"from\", localStorage.getItem('auth')); \n\t\treturn authval; \n\t} \n} \n\nconst LogOut = () => { \n\tlocalStorage.clear(); \n} \n\nexport default { \n\tauthenticateUser, \n\tsetAuthKey, \n\thasAuthKey, \n\tLogOut\n} \n"]},"metadata":{},"sourceType":"module"}